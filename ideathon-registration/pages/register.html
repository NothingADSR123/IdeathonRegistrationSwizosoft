<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Register — Swizosoft Ideathon</title>
  <link rel="stylesheet" href="../assets/css/style.css">
  <script src="../assets/js/checkTeam.js" defer></script>
  <script src="../assets/js/main.js" defer></script>

  <!-- Tailwind (for quick styling + animation polish) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- AOS (Animate on Scroll) -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => AOS.init());
  </script>

  <style>
    body {
      background-color: #a6ccf5;
      overflow-x: hidden;
      font-family: 'Inter', sans-serif;
    }

    .background-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, #e0e7ee 0%, #f0f4f7 100%);
      background-image: radial-gradient(#18191a 1px, transparent 0);
      background-size: 40px 40px;
      animation: tech-pulse 30s linear infinite;
    }

    @keyframes tech-pulse {
      from {
        background-position: 0 0;
      }

      to {
        background-position: 400px 400px;
      }
    }
  </style>
</head>

<body class="flex items-center justify-center min-h-screen">
  <div class="background-canvas"></div>

  <div class="bg-white/90 backdrop-blur-lg shadow-xl rounded-2xl p-8 w-full max-w-3xl" data-aos="fade-up"
    data-aos-duration="800">

    <h1 class="text-3xl font-bold mb-2 text-gray-900 text-center">Swizosoft Ideathon — Registration</h1>
    <p class="text-center text-gray-700 mb-8">Register your team (1–3 members). Upload payment screenshot (max 2MB).</p>

    <form id="regForm" enctype="multipart/form-data" class="space-y-4">
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold mb-1">Team Name *</label>
          <input id="team_name" name="team_name" type="text" required class="w-full border px-3 py-2 rounded-md">
          <span id="team-status" class="text-sm"></span>
        </div>

        <div>
          <label class="block font-semibold mb-1">Leader Name *</label>
          <input name="leader_name" type="text" required class="w-full border px-3 py-2 rounded-md">
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold mb-1">Email *</label>
          <input name="email" type="email" required class="w-full border px-3 py-2 rounded-md">
        </div>

        <div>
          <label class="block font-semibold mb-1">Phone *</label>
          <input name="phone" type="tel" required class="w-full border px-3 py-2 rounded-md">
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold mb-1">University / Organization</label>
          <input name="university" type="text" class="w-full border px-3 py-2 rounded-md">
        </div>

        <div>
          <label class="block font-semibold mb-1">State</label>
          <select name="state" required class="w-full border px-3 py-2 rounded-md">
            <option value="">Select state / UT</option>
            <option>Andhra Pradesh</option>
            <option>Arunachal Pradesh</option>
            <option>Assam</option>
            <option>Bihar</option>
            <option>Chhattisgarh</option>
            <option>Goa</option>
            <option>Gujarat</option>
            <option>Haryana</option>
            <option>Himachal Pradesh</option>
            <option>Jharkhand</option>
            <option>Karnataka</option>
            <option>Kerala</option>
            <option>Madhya Pradesh</option>
            <option>Maharashtra</option>
            <option>Manipur</option>
            <option>Meghalaya</option>
            <option>Mizoram</option>
            <option>Nagaland</option>
            <option>Odisha</option>
            <option>Punjab</option>
            <option>Rajasthan</option>
            <option>Sikkim</option>
            <option>Tamil Nadu</option>
            <option>Telangana</option>
            <option>Tripura</option>
            <option>Uttar Pradesh</option>
            <option>Uttarakhand</option>
            <option>West Bengal</option>
            <option>Andaman and Nicobar Islands</option>
            <option>Chandigarh</option>
            <option>Dadra and Nagar Haveli and Daman and Diu</option>
            <option>Delhi</option>
            <option>Jammu and Kashmir</option>
            <option>Ladakh</option>
            <option>Puducherry</option>
          </select>
        </div>
      </div>

      <div>
        <label class="block font-semibold mb-1">Region</label>
        <input name="region" type="text" class="w-full border px-3 py-2 rounded-md">
      </div>

      <!-- Dynamic Members -->
      <div>
        <label class="block font-semibold mb-1">Number of Additional Members</label>
        <select id="memberCount" class="border px-3 py-2 rounded-md">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>

        <div id="membersContainer" class="mt-2 space-y-2"></div>
      </div>

      <!-- Payment -->
      <div class="grid md:grid-cols-2 gap-4 items-center">
        <div class="flex flex-col items-center">
          <label class="font-semibold mb-1">Scan the QR code for Payment</label>
          <img src="../assets/QRcodeimage.jpg" alt="QR code" class="rounded-lg shadow-md w-48">
          <div class="mt-3 flex items-center gap-2">
            <input id="upiId" type="text" readonly value="swizosoft@upi"
              class="border px-2 py-1 rounded w-40 text-center text-gray-700">
            <button id="copyBtn" type="button" class="bg-gray-800 text-white px-3 py-1 rounded">Copy</button>
            <span id="copyMsg" class="text-sm text-green-600 hidden">Copied!</span>
          </div>
        </div>

        <div>
          <label class="block font-semibold mb-1">Payment Screenshot *</label>
          <input name="payment_screenshot" type="file" accept="image/*" required
            class="w-full border px-3 py-2 rounded-md">
          <small class="text-sm text-gray-600">Allowed: jpg, jpeg, png, webp. Max 2MB.</small>
        </div>
      </div>

      <button type="submit"
        class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all">Register</button>
    </form>
  </div>

  <!-- JS for copy + dynamic members -->
  <script>
    // Copyable UPI ID
    document.getElementById('copyBtn').addEventListener('click', async () => {
      const id = document.getElementById('upiId').value;
      try {
        await navigator.clipboard.writeText(id);
        const msg = document.getElementById('copyMsg');
        msg.classList.remove('hidden');
        setTimeout(() => msg.classList.add('hidden'), 1000);
      } catch {
        alert('Failed to copy');
      }
    });

    // Dynamic members input
    const container = document.getElementById('membersContainer');
    document.getElementById('memberCount').addEventListener('change', e => {
      const n = parseInt(e.target.value, 10);
      container.innerHTML = '';
      for (let i = 1; i <= n; i++) {
        const div = document.createElement('div');
        div.innerHTML = `
          <label class="block text-gray-700">Member ${i} Name</label>
          <input name="member${i}" type="text" class="w-full border px-3 py-2 rounded-md" required>
        `;
        container.appendChild(div);
      }
    });
  </script>
</body>

</html>